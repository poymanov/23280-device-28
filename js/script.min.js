var feedbackModal=document.querySelector(".feedback"),feedbackBtn=document.querySelector(".button-contacts"),mapModal=document.querySelector(".map"),mapBtn=document.querySelector(".map-link"),closeModalBtns=document.querySelectorAll(".button-close-modal"),feedbackNameInput=document.querySelector('[name="name"]'),feedbackEmailInput=document.querySelector('[name="email"]'),feedbackTextarea=document.querySelector('[name="text"]'),feedbackForm=document.querySelector(".feedback-form"),sliderControls=document.querySelectorAll(".slider-control"),serviceItem=document.querySelectorAll(".service-item"),modalShowClassName="modal-show",modalErrorClassName="modal-error",activeControlClassName="slider-control-active",activeSlideClassName="slide-active",activeServiceItemClassName="service-item-active",activeServiceDescriptionClassName="services-description-item-active",isStorageSupport=!0,nameStorage="",emailStorage="",escKeyCode=27;try{nameStorage=localStorage.getItem("name"),emailStorage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}function closeOpenedModal(e){e.classList.remove(modalShowClassName),e.classList.remove(modalErrorClassName)}feedbackBtn.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.add(modalShowClassName),nameStorage&&emailStorage?(feedbackNameInput.value=nameStorage,feedbackEmailInput.value=emailStorage,feedbackTextarea.focus()):nameStorage?(feedbackNameInput.value=nameStorage,feedbackEmailInput.focus()):emailStorage?(feedbackEmailInput.value=emailStorage,feedbackNameInput.focus()):feedbackNameInput.focus()}),mapBtn.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add(modalShowClassName)}),feedbackForm.addEventListener("submit",function(e){feedbackNameInput.value&&feedbackEmailInput.value&&feedbackTextarea.value?(localStorage.setItem("name",feedbackNameInput.value),localStorage.setItem("email",feedbackEmailInput.value)):(e.preventDefault(),feedbackModal.classList.remove(modalErrorClassName),feedbackModal.offsetWidth=feedbackModal.offsetWidth,feedbackModal.classList.add(modalErrorClassName))}),closeModalBtns.forEach(function(e){e.addEventListener("click",function(a){closeOpenedModal(e.parentElement)})}),window.addEventListener("keydown",function(e){if(e.keyCode===escKeyCode){var a=document.querySelector("."+modalShowClassName);a&&(e.preventDefault(),closeOpenedModal(a))}}),sliderControls.forEach(function(e){e.addEventListener("click",function(a){a.preventDefault();var t=e.dataset.slideControlId;document.querySelector(".slider-control."+activeControlClassName).classList.remove(activeControlClassName),e.classList.add(activeControlClassName),document.querySelector("."+activeSlideClassName).classList.remove(activeSlideClassName),document.querySelector('[data-slide-id="'+t+'"]').classList.add(activeSlideClassName)})}),serviceItem.forEach(function(e){e.addEventListener("click",function(a){a.preventDefault();var t=e.dataset.serviceItemId;document.querySelector("."+activeServiceItemClassName).classList.remove(activeServiceItemClassName),e.classList.add(activeServiceItemClassName),document.querySelector("."+activeServiceDescriptionClassName).classList.remove(activeServiceDescriptionClassName),document.querySelector('[data-service-description-id="'+t+'"]').classList.add(activeServiceDescriptionClassName)})});
